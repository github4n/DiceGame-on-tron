window.__require=function e(t,i,c){function a(s,o){if(!i[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var r="function"==typeof __require&&__require;if(!o&&r)return r(l,!0);if(n)return n(l,!0);throw new Error("Cannot find module '"+s+"'")}}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){return a(t[s][1][e]||e)},d,d.exports,e,t,i,c)}return i[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<c.length;s++)a(c[s]);return a}({ListView:[function(e,t,i){"use strict";cc._RF.push(t,"fa7a0v5Sw5FpLJDE6S7LoOl","ListView"),cc.Class({extends:cc.Component,properties:{view:cc.Node,list:cc.Node,itemPrefab:cc.Prefab,spacingX:0,bgAudio:{default:null,type:cc.AudioClip},a1:{default:null,type:cc.AudioClip},a2:{default:null,type:cc.AudioClip},a3:{default:null,type:cc.AudioClip},a4:{default:null,type:cc.AudioClip},ad:{default:null,type:cc.AudioClip}},onLoad:function(){var e=this;window.addEventListener("message",function(t){if(console.log("receive message listener",t.data),-1!=JSON.stringify(t.data).indexOf("cmd")){var i=JSON.parse(t.data);if("startBet"===i.cmd)e.startBet(Number(i.id),Number(i.retainTimes),i.lang);else if("getBetting"===i.cmd)for(var c=e.node.parent,a=0;a<4;a++)c.getChildByName("label"+(a+1).toString()).getComponent(cc.Label).string="TOTAL:"+i.bet[a].total,e._canClick[a]=i.bet[a].show;else if("on_hide"===i.cmd)cc.audioEngine.stopAll(),e._pause=!0;else if("on_show"===i.cmd){0==(n=cc.sys.localStorage.getItem("CloseMusic"))||null==n?(cc.sys.localStorage.setItem("CloseMusic",1),cc.audioEngine.play(e.bgAudio,!0,1)):1==n?cc.audioEngine.play(e.bgAudio,!0,1):2==n&&cc.audioEngine.stopAll(),e._pause=!1}else if("switchAudio"===i.cmd){var n=cc.sys.localStorage.getItem("CloseMusic");1==i.isOpen&&1!=n?(cc.sys.localStorage.setItem("CloseMusic",1),cc.audioEngine.play(e.bgAudio,!0,1)):0==i.isOpen&&1==n&&(cc.audioEngine.stopAll(),cc.sys.localStorage.setItem("CloseMusic",2))}}})},start:function(){var e=cc.sys.localStorage.getItem("CloseMusic");0==e||null==e?(cc.sys.localStorage.setItem("CloseMusic",1),cc.audioEngine.play(this.bgAudio,!0,1)):1==e?cc.audioEngine.play(this.bgAudio,!0,1):2==e&&cc.audioEngine.stopAll(),this._pause=!1,this.data=[3,1,2,1,3,4,2,1,2,1,3,1,2,1,2,1,3,1,2,1,3,1,2,1,2,1,3,1,2,1,2,1],this._curId=0,this.init(),this._click=0,this._canClick=[1,1,1,1]},init:function(){var e=cc.instantiate(this.itemPrefab);e.width;for(var t=0;t<6*this.data.length;++t)e.getChildByName("image").getComponent(cc.Sprite).spriteFrame=this.node.parent.getChildByName(this.data[t%this.data.length].toString()).getComponent(cc.Sprite).spriteFrame,e.__itemID=t,this.list.addChild(e),e=cc.instantiate(this.itemPrefab)},startBet:function(e,t,i){if(this._pause)window.parent.postMessage({cmd:"animateOver"},"*");else{var c=cc.instantiate(this.itemPrefab).width,a=2+Math.floor(4*Math.random())%2,n=this.node.parent;if(this._isRun){this.list.stopAllActions(),this.list.x=-this.view.width/2-e*c,this._curId=e;var s=n.getChildByName("icon1");s.stopAllActions(),s.opacity=255;for(var o=1;o<=4;o++){n.getChildByName("p"+o.toString()).position=cc.v2(1e3,0)}n.getChildByName("blackMask").active=!1,this.resetFrame()}else this._isRun=!0;n.getChildByName("icon1").runAction(cc.repeatForever(cc.sequence(cc.fadeOut(.3).easing(cc.easeIn(.2)),cc.fadeIn(.3).easing(cc.easeIn(.2))))),1==cc.sys.localStorage.getItem("CloseMusic")&&(this.ad_=cc.audioEngine.playEffect(this.ad,!0));var l=this;this.list.runAction(cc.sequence(cc.moveBy(1*a,cc.v2(32*-c*a-c*e+l._curId*c,0)).easing(cc.easeOut(1*a)),cc.callFunc(function(t){cc.audioEngine.stopEffect(l.ad_),n.getChildByName("icon2").getComponent(cc.Sprite).spriteFrame=n.getChildByName("i"+l.data[e].toString()).getComponent(cc.Sprite).spriteFrame;var s=n.getChildByName("icon1");s.stopAllActions(),s.opacity=255,n.getChildByName("blackMask").active=!0,l.resetFrame();var o=cc.sys.localStorage.getItem("CloseMusic");1==l.data[e]&&1==o?cc.audioEngine.playEffect(l.a1,!1):2==l.data[e]&&1==o?cc.audioEngine.playEffect(l.a2,!1):3==l.data[e]&&1==o?cc.audioEngine.playEffect(l.a3,!1):4==l.data[e]&&1==o&&cc.audioEngine.playEffect(l.a4,!1);var r=n.getChildByName("p"+l.data[e].toString());"en"==i&&(r=n.getChildByName("ep"+l.data[e].toString())),r.position=cc.v2(0,0),r.opacity=0,r.scale=.1,r.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1),cc.fadeIn(.3)),cc.delayTime(3),cc.callFunc(function(){r.position=cc.v2(1e3,0),n.getChildByName("blackMask").active=!1,l._isRun=null,window.parent.postMessage({cmd:"animateOver"},"*"),l.list.x=l.list.x+l.data.length*a*c}))),l._curId=e})))}},resetFrame:function(){for(var e=this.node.parent,t=1;t<=4;t++){e.getChildByName("k"+t.toString()).active=!1}},click_1:function(e){0!=this._canClick[0]&&(window.parent.postMessage({cmd:"selCare",careType:"2X"},"*"),this.resetFrame(),this.node.parent.getChildByName("k1").active=!0)},click_2:function(e){0!=this._canClick[1]&&(window.parent.postMessage({cmd:"selCare",careType:"3X"},"*"),this.resetFrame(),this.node.parent.getChildByName("k2").active=!0)},click_3:function(e){0!=this._canClick[2]&&(window.parent.postMessage({cmd:"selCare",careType:"5X"},"*"),this.resetFrame(),this.node.parent.getChildByName("k3").active=!0)},click_4:function(e){0!=this._canClick[3]&&(window.parent.postMessage({cmd:"selCare",careType:"30X"},"*"),this.resetFrame(),this.node.parent.getChildByName("k4").active=!0)}}),cc._RF.pop()},{}]},{},["ListView"]);