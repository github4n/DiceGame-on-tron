{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\ListView.js"],"names":["cc","Class","extends","Component","properties","view","Node","list","itemPrefab","Prefab","spacingX","bgAudio","default","type","AudioClip","a1","a2","a3","a4","ad","onLoad","self","window","addEventListener","event","console","log","data","JSON","stringify","indexOf","parse","cmd","startBet","Number","id","retainTimes","lang","parent","node","i","getChildByName","toString","getComponent","Label","string","bet","total","_canClick","show","audioEngine","stopAll","_pause","music","sys","localStorage","getItem","setItem","play","isOpen","start","_curId","init","_click","width","item","instantiate","length","Sprite","spriteFrame","__itemID","addChild","postMessage","circle","Math","floor","random","_isRun","stopAllActions","x","icon1","opacity","k","curIdImage","position","v2","active","resetFrame","runAction","repeatForever","sequence","fadeOut","easing","easeIn","fadeIn","ad_","playEffect","moveBy","easeOut","callFunc","target","stopAllEffects","scale","spawn","scaleTo","delayTime","kFrame","click_1","evt","careType","click_2","click_3","click_4"],"mappings":"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","file":"ListView.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n \r\n    properties: {\r\n        //scrollview的view剪裁节点\r\n        view:cc.Node,\r\n        //scrollview的具体装载item的node\r\n        list:cc.Node,\r\n        //item的prefab\r\n        itemPrefab:cc.Prefab,\r\n        //item的间隔\r\n        spacingX:0,\r\n        bgAudio: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        a1: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        a2: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        a3: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        a4: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        ad: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n    },\r\n \r\n    onLoad () {\r\n        var self = this;\r\n        window.addEventListener('message', function(event){\r\n            console.log('receive message listener', event.data);\r\n\r\n            if (JSON.stringify(event.data).indexOf('cmd') == -1){\r\n                return;\r\n            }\r\n\r\n            let data = JSON.parse(event.data);\r\n            if (data.cmd === 'startBet'){\r\n                self.startBet(Number(data.id), Number(data.retainTimes), data.lang)\r\n            } else if (data.cmd === 'getBetting'){\r\n                let parent = self.node.parent\r\n                for (var i=0; i<4; i++){\r\n                    //console.log(\"====\" + data.bet[i].total + \" \" + data.bet[i].show)\r\n                    parent.getChildByName('label'+(i+1).toString()).getComponent(cc.Label).string = \"TOTAL:\" + data.bet[i].total\r\n                    self._canClick[i] = data.bet[i].show\r\n                }\r\n            } else if(data.cmd === 'on_hide'){\r\n                cc.audioEngine.stopAll();\r\n                self._pause = true;\r\n            } else if(data.cmd === 'on_show'){\r\n                var music = cc.sys.localStorage.getItem(\"CloseMusic\");\r\n                if (music == 0 || music == null){\r\n                    cc.sys.localStorage.setItem(\"CloseMusic\", 1); //1-开启；2-关闭\r\n                    cc.audioEngine.play(self.bgAudio, true, 1);\r\n                } else if (music == 1){\r\n                    cc.audioEngine.play(self.bgAudio, true, 1);\r\n                } else if (music == 2){\r\n                    cc.audioEngine.stopAll();\r\n                }\r\n                self._pause = false;\r\n            } else if(data.cmd === 'switchAudio'){\r\n                var music = cc.sys.localStorage.getItem(\"CloseMusic\");\r\n                if (data.isOpen == 1 && music != 1){\r\n                    cc.sys.localStorage.setItem(\"CloseMusic\", 1); //1-开启；2-关闭\r\n                    cc.audioEngine.play(self.bgAudio, true, 1);\r\n                } else if (data.isOpen == 0 && music == 1) {\r\n                    cc.audioEngine.stopAll();\r\n                    cc.sys.localStorage.setItem(\"CloseMusic\", 2); //1-开启；2-关闭\r\n                }\r\n            }\r\n        });\r\n\r\n        /*let context = cc.sys.__audioSupport.context;\r\n        if (context.state === 'suspended') {\r\n            cc.audioEngine.resumeAll();\r\n        } else {\r\n            //cc.audioEngine.playMusic(this.bgAudio, true);\r\n            cc.audioEngine.play(this.bgAudio, true, 1);\r\n        }*/\r\n    },\r\n\r\n    start() {\r\n        var music = cc.sys.localStorage.getItem(\"CloseMusic\");\r\n        if (music == 0 || music == null){\r\n            cc.sys.localStorage.setItem(\"CloseMusic\", 1); //1-开启；2-关闭\r\n            cc.audioEngine.play(this.bgAudio, true, 1);\r\n        } else if (music == 1){\r\n            cc.audioEngine.play(this.bgAudio, true, 1);\r\n        } else if (music == 2){\r\n            cc.audioEngine.stopAll();\r\n        }\r\n        this._pause = false;\r\n\r\n        //预加载的item的数据\r\n        this.data = [3,1,2,1,3,4,2,1,2,1,3,1,2,1,2,1,\r\n            3,1,2,1,3,1,2,1,2,1,3,1,2,1,2,1]\r\n        //创建的item节点的数组\r\n        this._curId = 0\r\n\r\n        this.init()\r\n        this._click = 0\r\n\r\n        this._canClick = [1, 1, 1, 1]\r\n    },\r\n\r\n    init(){\r\n        //保存高度\r\n        let width = 0\r\n        //创建item \r\n        let item = cc.instantiate(this.itemPrefab)\r\n        width = item.width\r\n\r\n        for(let i =0 ; i < this.data.length*6; ++i){\r\n            item.getChildByName('image').getComponent(cc.Sprite).spriteFrame =\r\n                this.node.parent.getChildByName(this.data[i%this.data.length].toString())\r\n                .getComponent(cc.Sprite).spriteFrame\r\n            /*if (this.data[i%this.data.length] == 1){\r\n                item.getChildByName('image').color = new cc.color(0,233,225,255)\r\n            } else if (this.data[i%this.data.length] == 2){\r\n                item.getChildByName('image').color = new cc.color(130,126,241,255)\r\n            } else if (this.data[i%this.data.length] == 4){\r\n                item.getChildByName('image').color = new cc.color(255,197,89,255)\r\n            }*/\r\n\r\n            //记录一下itemid\r\n            item.__itemID = i\r\n            //加入item节点到scrollview的list里面\r\n            this.list.addChild(item)\r\n            item = cc.instantiate(this.itemPrefab)\r\n        }\r\n    },\r\n\r\n    startBet(id, retainTimes, lang){\r\n        if (this._pause){\r\n            window.parent.postMessage({\r\n                cmd:\"animateOver\"\r\n            }, \"*\");\r\n            return;\r\n        }\r\n\r\n        let item = cc.instantiate(this.itemPrefab)\r\n        let width = item.width\r\n\r\n        let circle = 2 + Math.floor(Math.random() * 4) % 2\r\n        /*let id = 0;\r\n        this._click++\r\n        if (this._click == 1) id = 1\r\n        else if (this._click == 2) id = 2\r\n        else if (this._click == 3) id = 1\r\n        else if (this._click == 4) id = 0*/\r\n\r\n        let parent = this.node.parent\r\n\r\n        if (this._isRun){\r\n            this.list.stopAllActions()\r\n            this.list.x = -this.view.width/2 - id * width\r\n            this._curId = id\r\n\r\n            let icon1 = parent.getChildByName(\"icon1\")\r\n            icon1.stopAllActions()\r\n            icon1.opacity = 255\r\n\r\n            for (var k=1; k<=4; k++){\r\n                let curIdImage = parent.getChildByName(\"p\"+k.toString())\r\n                curIdImage.position = cc.v2(1000, 0)\r\n            }\r\n            parent.getChildByName(\"blackMask\").active = false\r\n\r\n            this.resetFrame()\r\n        } else {\r\n            this._isRun = true\r\n        }\r\n\r\n        parent.getChildByName(\"icon1\").runAction(\r\n            cc.repeatForever(cc.sequence(\r\n                cc.fadeOut(0.3).easing(cc.easeIn(0.2)),\r\n                cc.fadeIn(0.3).easing(cc.easeIn(0.2))\r\n            ))\r\n        )\r\n\r\n        if (cc.sys.localStorage.getItem(\"CloseMusic\") == 1)\r\n            this.ad_ = cc.audioEngine.playEffect(this.ad, true);\r\n\r\n        var self = this\r\n        this.list.runAction(cc.sequence(\r\n            cc.moveBy(1*circle, cc.v2(32*-width*circle-width*id+self._curId*width, 0)).easing(cc.easeOut(circle*1)),\r\n            cc.callFunc(function(target){\r\n                cc.audioEngine.stopAllEffects()\r\n\r\n                parent.getChildByName('icon2').getComponent(cc.Sprite).spriteFrame =\r\n                    parent.getChildByName('i' + self.data[id].toString()).getComponent(cc.Sprite).spriteFrame\r\n\r\n                let icon1 = parent.getChildByName(\"icon1\")\r\n                icon1.stopAllActions()\r\n                icon1.opacity = 255\r\n\r\n                parent.getChildByName(\"blackMask\").active = true\r\n\r\n                self.resetFrame()\r\n\r\n                let music = cc.sys.localStorage.getItem(\"CloseMusic\")\r\n                if (self.data[id] == 1 && music == 1){\r\n                    cc.audioEngine.playEffect(self.a1, false);\r\n                } else if (self.data[id] == 2 && music == 1){\r\n                    cc.audioEngine.playEffect(self.a2, false);\r\n                } else if (self.data[id] == 3 && music == 1){\r\n                    cc.audioEngine.playEffect(self.a3, false);\r\n                } else if (self.data[id] == 4 && music == 1){\r\n                    cc.audioEngine.playEffect(self.a4, false);\r\n                }\r\n\r\n                let curIdImage = parent.getChildByName(\"p\"+self.data[id].toString())\r\n                if (lang == \"en\"){\r\n                    curIdImage = parent.getChildByName(\"ep\"+self.data[id].toString())\r\n                }\r\n                curIdImage.position = cc.v2(0,0)\r\n                curIdImage.opacity = 0\r\n                curIdImage.scale = 0.1\r\n                curIdImage.runAction(cc.sequence(\r\n                    cc.spawn(\r\n                        cc.scaleTo(0.3, 1.0),\r\n                        cc.fadeIn(0.3)\r\n                    ),\r\n                    cc.delayTime(3),\r\n                    cc.callFunc(function() {\r\n                        curIdImage.position = cc.v2(1000, 0)\r\n                        parent.getChildByName(\"blackMask\").active = false\r\n\r\n                        self._isRun = null\r\n                        window.parent.postMessage({\r\n                            cmd:\"animateOver\"\r\n                        }, \"*\");\r\n\r\n                        self.list.x = self.list.x + self.data.length*circle*width\r\n                    })\r\n                ))\r\n\r\n                self._curId = id\r\n            })\r\n        ))\r\n    },\r\n\r\n    resetFrame(){\r\n        let parent = this.node.parent\r\n        for (var k=1; k<=4; k++){\r\n            let kFrame = parent.getChildByName(\"k\"+k.toString())\r\n            kFrame.active = false\r\n        }\r\n    },\r\n\r\n    click_1(evt){\r\n        if (this._canClick[0] == 0) return\r\n\r\n        window.parent.postMessage({\r\n            cmd:\"selCare\",\r\n            careType:\"2X\"\r\n        }, \"*\");\r\n\r\n        this.resetFrame()\r\n        let kFrame = this.node.parent.getChildByName(\"k1\")\r\n        kFrame.active = true\r\n    },\r\n\r\n    click_2(evt){\r\n        if (this._canClick[1] == 0) return\r\n\r\n        window.parent.postMessage({\r\n            cmd:\"selCare\",\r\n            careType:\"3X\"\r\n        }, \"*\");\r\n\r\n        this.resetFrame()\r\n        let kFrame = this.node.parent.getChildByName(\"k2\")\r\n        kFrame.active = true\r\n    },\r\n\r\n    click_3(evt){\r\n        if (this._canClick[2] == 0) return\r\n\r\n        window.parent.postMessage({\r\n            cmd:\"selCare\",\r\n            careType:\"5X\"\r\n        }, \"*\");\r\n\r\n        this.resetFrame()\r\n        let kFrame = this.node.parent.getChildByName(\"k3\")\r\n        kFrame.active = true\r\n    },\r\n\r\n    click_4(evt){\r\n        if (this._canClick[3] == 0) return\r\n\r\n        window.parent.postMessage({\r\n            cmd:\"selCare\",\r\n            careType:\"30X\"\r\n        }, \"*\");\r\n\r\n        this.resetFrame()\r\n        let kFrame = this.node.parent.getChildByName(\"k4\")\r\n        kFrame.active = true\r\n    },\r\n});"]}